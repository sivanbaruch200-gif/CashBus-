# CashBus - פלטפורמת Legal-Tech לפיצויים בתחבורה ציבורית

## תיאור הפרויקט

CashBus היא פלטפורמת Legal-Tech המיועדת לעזור לנוסעים בתחבורה ציבורית בישראל לקבל פיצויים אוטומטיים על עיכובים והפסדים.

### החזון
הפיכת "כרטיסי תקלה" לתביעות כספיות בעזרת בינוי מלאכותית ואוטומציה.

## קבלת התחלה

### דרישות מוקדמות
- Node.js 18+
- npm או yarn

### התקנה

```bash
# 1. התקנת תלויות
npm install

# 2. הגדרת Supabase (ראה SUPABASE_SETUP.md)
# - העתק .env.example ל-.env.local
# - הזן את המפתחות מ-Supabase
# - הרץ את schema.sql ב-Supabase SQL Editor

# 3. הרצת שרת הפיתוח
npm run dev
```

פתחו את הדפדפן בכתובת [http://localhost:3000](http://localhost:3000)

**התחלה מהירה:**
1. הירשמו בדף [/auth](http://localhost:3000/auth)
2. התחברו עם המשתמש שנרשם
3. לחצו על כפתור ה-Panic לבדיקת מערכת הדיווח

📖 **מדריך מלא**: ראה [SUPABASE_SETUP.md](SUPABASE_SETUP.md)

## מבנה הפרויקט

```
CashBus-Project/
├── app/                    # Next.js App Router
│   ├── page.tsx           # דף Dashboard ראשי (מחובר ל-Supabase)
│   ├── auth/              # דף הרשמה/התחברות
│   ├── layout.tsx         # Layout כללי
│   └── globals.css        # סגנונות גלובליים
├── components/            # קומפוננטות React
│   ├── MyAccountWidget.tsx    # ווידג'ט "החשבון שלי"
│   ├── PanicButton.tsx        # כפתור "האוטובוס לא הגיע"
│   └── StatusLight.tsx        # נורת סטטוס GPS
├── lib/                   # Utilities
│   ├── supabase.ts        # Supabase client & helpers
│   └── compensation.ts    # מנוע חישוב פיצויים
├── supabase/              # Database
│   └── schema.sql         # טבלאות וטריגרים
├── plans/                 # תיעוד ותכניות עבודה
│   └── phase-1-setup.md
├── CLAUDE.md             # זיכרון הפרויקט
├── MASTER_PLAN.md        # תכנית אב
├── SUPABASE_SETUP.md     # מדריך הגדרת Supabase
├── .env.local            # מפתחות Supabase (לא ב-Git)
└── package.json
```

## תכונות עיקריות (שלבים 1+2)

### 🎯 Dashboard משתמש
- **ווידג'ט "החשבון שלי"**: הצגת סכומים שהתקבלו מול פיצויים פוטנציאליים
- **טופס דיווח דו-שלבי**:
  - שלב 1: אימות GPS אוטומטי (ראיה משפטית)
  - שלב 2: פרטי תקלה (קו, חברה, סוג, נזקים, תמונה)
- **חישוב פיצויים בזמן אמת**: ₪35-₪1,000+ (תקנה 428ז)
- **העלאת תמונות**: אינטגרציה עם מצלמה ו-Supabase Storage
- **פעילות אחרונה**: רשימת תביעות והסטטוס שלהן
- **נורת סטטוס**: אינדיקציה ויזואלית לאימות GPS

### 🎨 עיצוב
- **צבעים**: כתום (#FF8C00) ולבן
- **גופן**: Assistant (תמיכה בעברית)
- **כיוון**: RTL (מימין לשמאל)
- **מראה**: נקי, אמין, מודרני

### 🚀 טכנולוגיות
- **Frontend**: React 18 + Next.js 14
- **Styling**: Tailwind CSS
- **Icons**: Lucide React
- **Database**: Supabase (בשלב הבא)
- **AI**: GPT-4 (לניסוח מכתבים - בשלב הבא)

## תכנית פיתוח

### ✅ שלב 1: תשתית ועיצוב ראשוני (הושלם)
- [x] הקמת פרויקט React + Tailwind
- [x] יצירת ווידג'ט "החשבון שלי"
- [x] מימוש כפתור Panic
- [x] הוספת נורת סטטוס GPS
- [x] תמיכה בעברית RTL
- [x] הגדרת בסיס נתונים (Supabase)
- [x] מערכת הרשמה והתחברות

### ✅ שלב 2: שדרוג דיווח וראיות (הושלם - 03/01/2026)
- [x] טופס דו-שלבי עם אימות GPS אוטומטי
- [x] שדות מפורטים (מספר קו, חברה, סוג תקלה)
- [x] העלאת תמונות ל-Supabase Storage
- [x] מנוע חישוב פיצויים (lib/compensation.ts)
- [x] תצוגת פיצוי משוער בזמן אמת (₪35-₪1,000+)
- [x] שדות נזק אופציונליים (מונית, יום עבודה, בחינה)
- [x] עדכון אוטומטי של סטטיסטיקות פרופיל

**📄 תיעוד מפורט:** [PHASE_2_SUMMARY.md](PHASE_2_SUMMARY.md)

### 🔌 שלב 3: אינטגרציה עם API משרד התחבורה (הבא בתור)
- [ ] חיבור ל-API SIRI/GTFS-RT
- [ ] אימות GPS אמיתי מול מיקום אוטובוסים
- [ ] Geocoding אוטומטי לשמות תחנות
- [ ] זיהוי אוטומטי של חברת אוטובוסים

### 📊 שלב 4: אוטומציה משפטית (עתידי)
- [ ] יצירת מכתבי אזהרה מונחי AI (GPT-4)
- [ ] יצירת קבצי PDF אוטומטית
- [ ] שליחת מיילים לחברות אוטובוסים
- [ ] צבירת מספר תקלות לתביעה אחת
- [ ] ממשק Admin לניהול תיקים

## מודל עסקי

1. **Freemium**: תיעוד אירועים בחינם
2. **מכתב אזהרה**: 29-49 ₪ למכתב מנוסח AI
3. **דמי הצלחה**: 15-20% מהפיצוי הסופי

## יעד קהל

- סטודנטים
- חיילים
- אזרחים ותיקים
- אוכלוסייה בסטטוס סוציו-אקונומי נמוך
- נוסעים קבועים

## תיעוד נוסף

- [QUICK_START.md](QUICK_START.md) - מדריך התחלה מהירה (5 דקות)
- [PHASE_2_SUMMARY.md](PHASE_2_SUMMARY.md) - סיכום שלב 2 מפורט
- [STORAGE_SETUP.md](STORAGE_SETUP.md) - הגדרת Supabase Storage
- [USER_FLOW.md](USER_FLOW.md) - דיאגרמות מסע משתמש
- [CLAUDE.md](CLAUDE.md) - זיכרון הפרויקט
- [MASTER_PLAN.md](MASTER_PLAN.md) - תכנית אב
- [CONTEXT.md](CONTEXT.md) - הקשר פרויקט (Claude AI)

## רישיון

© 2026 CashBus - כל הזכויות שמורות
